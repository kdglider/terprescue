<launch>
  <arg name="model" default="waffle"/> <!-- doc="model type [burger, waffle, waffle_pi]"-->
  <arg name="ns"        default="turtlebot"/>
  <arg name="x"         default="0"/>
  <arg name="y"         default="0"/>
  <arg name="z"         default="0"/>
  <arg name="roll"      default="0"/>
  <arg name="pitch"     default="0"/>
  <arg name="yaw"       default="0"/>

  <param name="/$(arg ns)/robot_description" command="$(find xacro)/xacro --inorder $(find terprescue)/models/turtlebot3/turtlebot3_$(arg model).urdf.xacro  namespace:=$(arg ns)" />

  <node pkg="gazebo_ros" type="spawn_model" name="spawn_urdf" ns="$(arg ns)" args="-urdf -param /$(arg ns)/robot_description -model $(arg ns) -x $(arg x) -y $(arg y) -z $(arg z) -R $(arg roll) -P $(arg pitch) -Y $(arg yaw) -param /$(arg ns)/robot_description"/>

  <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher" ns="$(arg ns)">
    <param name="tf_prefix"         value="$(arg ns)"/>
  </node>

  <node pkg="laser_filters" type="scan_to_scan_filter_chain"
  name="filter_chain" ns="$(arg ns)">
    <rosparam command="load" file="$(find terprescue)/models/turtlebot3/sensors/hokuyo/config.yaml" />
  </node>
</launch>
